<script>
  document.onreadystatechange = function () {
    if (document.readyState === 'complete') {
      var codeBlocks = document.getElementsByClassName('code');
          for (let i = 0; i != codeBlocks.length; ++i) {
              codeBlocks[i].setAttribute('translate','no');
              codeBlocks[i].setAttribute('class','code notranslate');
          }
    }
  }
</script>
<% if (config.mermaid) { %>
  <script>
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
      var mermaidBlocks = document.querySelectorAll('[id^=mermaid-]');
      if (mermaidBlocks.length != 0) location.reload();
    });
  </script>
<% } %>
